<% layout('layouts/boilerplate') %>

<div class="row">
	<h1 class='text-center'>Edit Your Car</h1>

	<div class="col-6 offset-3">
		<form action="/cars/<%= currentCar._id %>?_method=PUT" method="POST" novalidate class="validated-form">

			<div class="mb-3">
				<label class="form-label" for="brand">Brand</label>
				<select class="form-control" id="brand" name="car[brand]" required>
					<% for(let brand in cars) { %>
					<option value="<%= brand %>" <%= (currentCar.brand == brand) ? 'selected' : '' %>><%= brand %>
					</option>
					<% } %>
				</select>
			</div>

			<div class="mb-3">
				<label class="form-label" for="model">Model</label>
				<select class="form-control" type="text" id="model" name="car[model]" required>
					<% for(let model of cars.Volvo) { %>
					<option value="<%= model %>" <%= (currentCar.model == model) ? 'selected' : '' %>><%= model %>
					</option>
					<% } %>
				</select>
			</div>

			<div class="mb-3">
				<input class="form-check-input" type="checkbox" id="hasLPG" name="car[hasLPG]"
					<%= (currentCar.hasLPG) ? 'checked' : '' %>>
				<label class="form-check-label" for="hasLPG">
					Uses LPG
				</label>
			</div>

			<div class="mb-3">
				<label class="form-label" for="description">Description</label>
				<textarea class="form-control" type="text" id="description"
					name="car[description]"><%= currentCar.description %></textarea>
			</div>

			<div class="mb-3">
				<button class="btn btn-success">Edit Car</button>
			</div>
		</form>

		<a href="/cars">All Cars</a>
	</div>
</div>

<script src="/js/dynamicCarSelect.js" type="module"></script>